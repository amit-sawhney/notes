\documentclass{report}

\input{preamble}
\input{macros}
\input{letterfonts}

\title{\Huge{MATH 413}\\Introduction to Combinatorics}
\author{\huge{Amit Sawhney}}
\date{}

\begin{document}

\maketitle
\newpage% or \cleardoublepage
% \pdfbookmark[<level>]{<title>}{<dest>}
\pdfbookmark[section]{\contentsname}{toc}
\tableofcontents
\pagebreak

\chapter{What is Combinatorics?}

\chapter{Permutations and Combinations}

\section{Lecture 2: Four Basic Counting Principles}

\section{Lecture 3: Permutations and selections of sets I}

\section{Lecture 4: Permutations and selections of sets II: binomial identities}

\section{Lecture 5: Permutations and Combinations of multisets I}

\section{Lecture 6: Permutations and Combinations of multisets II}

\chapter{The Pigeonhole Principle}

\section{Lecture 7: The pigeonhole principle}

\section{Lecture 8: The strong pigeonhole principle}

\section{Lecture 9: Ramsey Theory}

\setcounter{chapter}{4}

\chapter{The Binomial Coefficients}

\section{Lecture 10: Binomial coefficients and the binomial theorem I}

\section{Lecture 11: Binomial coefficients and the binomial theorem II}

\section{Lecture 12: Binomial coefficients and the binomial theorem III}

\chapter{The Inclusion-Exclusion Principle and Applications}

\section{Lecture 13: The Inclusion-Exclusion principle and applications I}

\section{Lecture 14: The Inclusion-Exclusion principle and applications II: Derangements}

\section{Lecture 15: The Inclusion-Exclusion principle and applications II}

\section{Lecture 16: The Inclusion-Exclusion principle and applications IV: Another Forbidden Position Problem}

\chapter{Recurrence Relations and Generating Functions}
\section{Lecture 17: Some Number Sequences}

\ex{Example 1}{
    Consider a configuration of $n$ lines where every two lines
    have a point in common, but no three do. How many regions in the
    plane are there? Give a recurrence. \\

    $$
        a_n = a_{n-1} + n
    $$

    TODO: Give an explanation of why this is true.
}

\ex{Example 2}{
    Give a simple recurrence for dearragements. \\

    $$
        D_n = (n - 1)(D_{n-1} + D_{n-2})
    $$

    TODO: Give an explanation of why this is true. Need to review dearragements
    from previous lecture.
}

\subsubsection*{}
Consider the Fibonacci sequence $f_n = f_{n-1} + f_{n-2}$, where $f_0 = 0$ and $f_1 = 1$.

\dfn{The adjusted Fibonacci sequence: $\hat{F}_n$}{
    This is the number of 1,2 lists of size $n$. In other words,
    consider the number of ways a valet can park A cars (size $1$) and
    B cars (size $2$) in a parking lot of size $n$.

    \begin{equation*}
        \hat{F}_n = \begin{cases}
            1         & \text{if $n = 0$} \\
            f_{n + 1} & \text{otherwise}
        \end{cases}
    \end{equation*}
}

\qs{}{
    Prove
    $$
        \sum_{n=0}^{n} f_{i} = f_{n+2} - 1
    $$
}
\sol{
    \begin{subproof}
        We will prove this by induction on $n$. \\

        \textbf{Base case}: $n = 0$.
        $$
            \sum_{i=0}^{0} f_{i} = f_{0} = 0
        $$

        Similarly,
        $$
            f_{0+2} - 1 = f_{2} - 1 = 1 - 1 = 0
        $$

        So, the base case is true. \\

        \textbf{Inductive Hypothesis}: Assume that the following statement is true for $n = k$.

        $$
            \sum_{i=0}^{k} f_{i} = f_{k+2} - 1
        $$

        \textbf{Indcutive Step}: We will prove that the following statement is true for $n = k + 1$.

        $$
            \sum_{i=0}^{k+1} f_{i} = f_{k+1} + \sum_{i=0}^{k} f_{i} = f_{k+1} + f_{k+2} - 1 = f_{k+3} - 1
        $$

        Therefore, the statement is true for all $n$ by induction.
    \end{subproof}
}

\qs{}{
    Prove
    $$
        1 + \sum_{i=0}^{n} \hat{F}_i = \hat{F}_{n+2}
    $$
}
\sol{
\begin{subproof}
    We will prove this by induction on $n$. \\

    \textbf{Base case}: $n = 0$.
    $$
        1 + \sum_{i=0}^{0} \hat{F}_i = 1 + \hat{F}_0 = 1 + 1 = 2
    $$
    Similarly,
    $$
        \hat{F}_{0+2} = \hat{F}_{2} = f_{2+1} = f_{3} = 2
    $$
    So, the base case is true. \\

    \textbf{Inductive Hypothesis}: Assume that the following statement is true for $n = k$.
    $$
        1 + \sum_{i=0}^{k} \hat{F}_i = \hat{F}_{k+2}
    $$

    \textbf{Inductive Step}: We will prove that the following statement is true for $n = k + 1$.
    \begin{align*}
        1 + \sum_{i=0}^{k+1} \hat{F}_i & = 1 + \hat{F}_{k+1} + \sum_{i=0}^{k} \hat{F}_i \\
                                       & = \hat{F}_{k+1} + \hat{F}_{k+2}                \\
                                       & = f_{k+2} + f_{k+3}                            \\
                                       & = f_{k+4}                                      \\
                                       & = \hat{F}_{k+3}                                \\
    \end{align*}

    Therefore, the statement is true for all $n$ by induction.
\end{subproof}

\qs{}{
    Prove that $f_n$ is even if and only if $n$ is divisible by $3$.
}
\sol{
    \begin{subproof}
        Given that $f_0 = 0$, $f_1 = 1$, and $f_2 = 1$, we can see that
        at $n = 3$, $f_3 = 2$, which is even. \\

        This is because the only way to get an even number is to have
        the parity of the two numbers added togethed (odd + odd or even + even)
        be the same. So, $f_4$, must be odd, $f_5$ must be odd and
        $f_6$ must be even. \\

        Given the starting sequence of even, odd, odd. The following sequence
        must always be even, odd, odd, which repeats every $3$ numbers.

        Since the first $n = 0$ is the first number in the sequence, every $n$
        that is divisible by $3$ is even.
    \end{subproof}
}
\nt{
    Example problems for later \\

    Guess and prove by induction (you may replace the Fibonnaci
    number by the adjusted Fibonacci number if it helps you) \\

    \begin{itemize}
        \item $f_1 + f_3 + \cdots + f_{2n - 1} = ?$
        \item $f_0 + f_2 + \cdots + f_{2n} = ?$
        \item $f_0 - f_1 + f_2 - \cdots + (-1)^{n}f_n = ?$
        \item $(f_0)^2 + (f_1)^2 + \cdots + (f_n)^2 = ?$
    \end{itemize}
}

\subsubsection*{Obtaining an explicit formula for $f_n$ for linear recurrences}
\ex{}{
    Consider the Fibonacci sequence $f_n = f_{n-1} + f_{n-2}$, where $f_0 = 0$ and $f_1 = 1$.
    This can be rewritten as a linear recurrence as follows:
    $$
        f_n - f_{n-1} - f_{n-2} = 0
    $$

    We must solve the corresponding characterstic equation. Notice how the largest
    degree lines up with the "largest" case of the recurrence. \\

    $$
        x^2 - x - 1 = 0
    $$

    Let $q_1$ and $q_2$ be the roots of the characteristic equation. \\

    It is potentially relevant to note that the following is a solution space
    of the Fibonacci recurrence (but don't satisfy $f_0$ --
    the initial condition): \\

    \begin{equation*}
        \begin{cases}
            q_1^n - q_1^{n - 1} - q_1^{n - 2} = 0 \\
            q_2^n - q_2^{n - 1} - q_2^{n - 2} = 0 \\
        \end{cases}
    \end{equation*}

    The rest of this is based on an ansatz, i.e.
    we need to make an assumption at the answer and validate it later \\

    $$
        f_n = c_1q_1^n + c_2q_2^n,
    $$

    for \textit{some} $c_1, c_2 \in \mathbb{R}$. \\

    Using the initial conditions of $f_0 = 0$ and $f_1 = 1$,
    we can solve for $c_1$ and $c_2$.
}

\section{Lecture 18: Introduction to ordinary generating series}

\nt{
    Up until now, we have solved an instance combinatorial problem at a time.
    However, in some cases, solving a single combinatorial is too difficult.
    So, we solve all of the combinatorial problems at once.
}

\subsubsection*{}
Consider a sequence $$h_0, h_1, h_2, \dots, h_t, \dots$$ of natural numbers where
$h_t$ is the answer to some counting problem that depends on $t$. \\

We can create a generating series of the form:

$$
    g(x) = h_0 + h_1x + h_2x^2 + \cdots + h_tx^t + \cdots
$$

where $h_t = [x^t]g(x)$.

\nt{
    The notation $[x^t]g(x)$ is the coefficient of $x^t$ in the polynomial $g(x)$.
}

\clm{Compositions Generating Series}{}{
    $$
        g(x) = \Big ( \frac{1}{1 - x} \Big )^k
    $$
}

\ex{}{
    Fix $k$. Let \\

    $h_t = $ number of nonnegative integral solutions to
    $$
        e_1 + \cdots + e_k = t, e_i \in \mathbb{Z}_{\ge 0}
    $$

    We already know from stars and bars that

    $$
        h_t = \binom{t + k - 1}{k - 1}
    $$

    So obviously, the generating series can be written as

    $$
        g(x) = \sum_{t=0}^{\infty} \binom{t + k - 1}{k - 1}x^t
    $$

    \nt{
        This doesn't really tell us anything. We just combined some definitions
        and have a genearting series that is hard to utilize in any useful way.
    }

    Take our claim and expand it out with Taylor Series $k$ times:

    \begin{align*}
        g(x) & = \Big ( \frac{1}{1 - x} \Big )^k                                           \\
             & = (1 + x + x^2 + \cdots)(1 + x + x^2 + \cdots)(1 + x + x^2 + \cdots) \cdots \\
    \end{align*}

    We can see that the coefficient of $x^t$ is the number of ways to write $t$ as
    a sum of $k$ nonnegative integers. So,

    $$h_t = \binom{t + k - 1}{k - 1}$$

    This combinatorially proves the negative binomial theorem:

    $$
        g(x) = \Big ( \frac{1}{1 - x} \Big )^k
    $$
}

\subsubsection*{Remark}
If you knew that the negative binomial theorem was true,
you could use it to algebraically solve the composition problem after
choosing the correct generating series $g(x) = \Big ( \frac{1}{1 - x} \Big )^k$.

\qs{}{
    What is

    $$
        (1 + x + x^2 + x^3 + x^4 + x^5)( x + x^2)(1 + x + x^2 + x^3 + x^4)
    $$

    the generating series for?
}
\sol{
    The solutions to the equation

    $$
        e_1 + e_2 + e_3 = t
    $$

    where $0 \le e_1 \le 5, 1 \le e_2 \le 2, 0 \le e_3 \le 4$.
}

\qs{}{
    Suppose you have 1,5 and 25 cents coins available
    (infinite supply). Write down the generating series
    for the number of ways to make change for a dollar.
    How many ways are there?
}
\sol{

    The generating series for the number of ways to make change for an arbitrary amount of money is:

    $$
        g(x) = (1 + x + x^{1+1} + x^{1+1+1} + \cdots)(1 + x^{5} + x^{5+5} + x^{5+5+5} + \cdots)(1 + x^{25} + x^{25+25} + x^{25+25+25} + \cdots)
    $$

    This can be simplified as follows:

    \begin{align*}
        g(x) & = \Big ( \frac{1}{1 - x} \Big ) \Big ( \frac{1}{1 - x^{5}} \Big ) \Big ( \frac{1}{1 - x^{25}} \Big ) \\
             & = \frac{1}{(1 - x)(1 - x^{5})(1 - x^{25})}                                                           \\
    \end{align*}

    The answers is $[x^{100}]g(x)$.
}

\qs{Nonstandard Dice}{
    Compute the generating series for the result of rolling two standard dice. \\
    Now factor it, and interpret.
}
\sol{
    \begin{align*}
        g(x) & = (x + x^2 + x^3 + x^4 + x^5 + x^6)(x + x^2 + x^3 + x^4 + x^5 + x^6) \\
             & = (x + x^2 + x^3 + x^4 + x^5 + x^6)^2                                \\
             & = (1 + x)(1 + x)(x + x^3 + x^5)
    \end{align*}

    TODO: How does this factor like this?

    After factoring, we can see that this is the equivalent of
    flipping a coin twice and rolling two 1-3-5 dice.
}

\qs{}{
    Determine the generating series for partitions.
}
\sol{
    \begin{align*}
        g(x) & = (1 + x^{1} + x^{1+1} + x^{1+1+1} + \cdots)(1 + x^{2} + x^{2+2} + x^{2+2+2} + \cdots)(1 + x^{3} + x^{3+3} + x^{3+3+3} + \cdots) \cdots \\
             & = \Big ( \frac{1}{1 - x} \Big ) \Big ( \frac{1}{1 - x^{2}} \Big ) \Big ( \frac{1}{1 - x^{3}} \Big ) \cdots                              \\
             & = \prod_{i=1}^{\infty} \Big ( \frac{1}{1 - x^{i}} \Big )                                                                                \\
    \end{align*}
}

In words, this generating series is the product of compositions of just $1$'s, $2$'s, $3$'s, etc.

\dfn{Ordinary Generating Series}{
    Let a combinatorial problem be defined as $(S, \omega)$ with $S$ a set
    and $\omega: S \mapsto \mathbb{Z}_{\ge 0}$ The ordinary generating series is

    \begin{align*}
        g(x) = g_{(S, \omega)}(x) = \sum_{s \in S} x^{\omega(s)}
    \end{align*}
}

\thm{Addition Rule of Generating Series}{
    Suppose $S = A \cup B$ (disjoint union), where $(A, \omega_A)$
    and $(B, \omega_B)$ are combinatorial problems.
    Moreover $\omega|_A = \omega_A$ and $\omega|_B = \omega_B$.

    Then the ordinary generating series for $(S, \omega)$ is

    \begin{align*}
        g_{(S, \omega)}(x) & = g_{(A, \omega_A)}(x) + g_{(B, \omega_B)}(x)                     \\
                           & = \sum_{s \in A} x^{\omega_A(s)} + \sum_{s \in B} x^{\omega_B(s)} \\
                           & = \sum_{s \in S} x^{\omega(s)}
    \end{align*}
}

\nt{
    The notation $\omega|_A$ means the restriction of $\omega$ to $A$.
    In this case,

    $$
        \omega|_A = \{ \omega_A(s) \mid s \in A \}
    $$
}

\thm{Product rule of Generating Series}{
    Suppose $S = A \times B$ (cartesian product), where $(A, \omega_A)$
    and $(B, \omega_B)$ are combinatorial problems and

    \begin{align*}
        \omega(a, b) = \omega_A(a) + \omega_B(b)
    \end{align*}

    Then,

    \begin{align*}
        g_{(S, \omega)}(x) & = g_{(A, \omega_A)}(x)g_{(B, \omega_B)}(x)                      \\
                           & = \sum_{a \in A} x^{\omega_A(a)} \sum_{b \in B} x^{\omega_B(b)} \\
                           & = \sum_{a \in A} \sum_{b \in B} x^{\omega(a, b)}
    \end{align*}
}

\subsection*{What does it mean for two generating series to be equal?}

They are equal coefficient by coefficient.

\subsection*{Let $g(x)$ be the ggenerating series for the number of partitions.
    What does it mean that $g(x)$ equals the infinite product:
}

\begin{align*}
    g(x) = \frac{1}{1 - x} \cdot \frac{1}{1 - x^{2}} \cdot \frac{1}{1 - x^{3}} \cdots
\end{align*}

It means that if we expand/solve enough terms of the RHS, the coefficient
of $x^t$ will stabalize (as in no more terms multiplied in will impact
the coefficient) and this coefficient will be the same as the coefficient
of $x^t$ in the LHS -- $g(x)$.

\subsection*{Convergence Issues}

Typically, with generating series, we only care about the coefficients and
not plugging in any specfic value into $x$. Because of this, we do not need
to worry about convergence. However, in some cases $g(x)$ is a polynomial
and in these cases, substitution is fine to perform.

\qs{Substituting into a generating series}{
    Let $S = \{$coins in your pokcet$\}$ and $\omega : S \mapsto \mathbb{Z}_{\ge 0}$
    be the obvious weight function on coins, i.e. $\omega$(nicket)$ = 5$. Is $g(x)$ is
    the corresponding generating series, what is $g(1)$? What is $g'(1)$?
}
\sol{
    $g(1)$ will be the number of coins in your pocket. This is trivially true
    because each term is $x$ to the power of an integer (with no coefficient),
    so $1$ raised to anything will be $1$ and so it is just the number of terms.
    More mathematically,

    \begin{align*}
        g(1) & = \sum_{s \in S} 1^{\omega(s)} \\
             & = \sum_{s \in S} 1             \\
             & = |S|
    \end{align*}

    $g'(1)$ will the amount of money you have. Based on the previous statement,
    we can see that the derivative of $g(x)$ is just the sum of the powers which
    represented the values of the coins in your pocket. More mathematically,
    \begin{align*}
        g'(1) = \sum_{s \in S} \omega(s)
    \end{align*}
}

\chapter{Special Counting Sequences}

\section{Lecture 19: Partition identities}

\section{Lecture 20: Partition identities (continued)}

\section{Lecture 21: Exponential generating series}
}

\end{document}